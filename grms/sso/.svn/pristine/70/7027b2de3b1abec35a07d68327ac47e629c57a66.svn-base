
(function(){var g=(function(){var n={};var o=[];n.inc=function(q,p){return true};n.register=function(r,p){var t=r.split(".");var s=n;var q=null;while(q=t.shift()){if(t.length){if(s[q]===undefined){s[q]={}}s=s[q]}else{if(s[q]===undefined){try{s[q]=p(n)}catch(u){o.push(u)}}}}};n.regShort=function(p,q){if(n[p]!==undefined){throw"["+p+"] : short : has been register"}n[p]=q};n.IE=/msie/i.test(navigator.userAgent);n.E=function(p){if(typeof p==="string"){return document.getElementById(p)}else{return p}};n.C=function(p){var q;p=p.toUpperCase();if(p=="TEXT"){q=document.createTextNode("")}else{if(p=="BUFFER"){q=document.createDocumentFragment()}else{q=document.createElement(p)}}return q};n.log=function(p){o.push("["+((new Date()).getTime()%100000)+"]: "+p)};n.getErrorLogInformationList=function(p){return o.splice(0,p||o.length)};return n})();$Import=g.inc;g.register("kit.dom.parseDOM",function(n){return function(p){for(var o in p){if(p[o]&&(p[o].length==1)){p[o]=p[o][0]}}return p}});g.register("core.arr.indexOf",function(n){return function(q,r){if(r.indexOf){return r.indexOf(q)}for(var p=0,o=r.length;p<o;p++){if(r[p]===q){return p}}return -1}});g.register("core.arr.inArray",function(n){return function(o,p){return n.core.arr.indexOf(o,p)>-1}});g.register("core.func.getType",function(n){return function(o){var p;return((p=typeof(o))=="object"?o==null&&"null"||Object.prototype.toString.call(o).slice(8,-1):p).toLowerCase()}});g.register("core.dom.sizzle",function(w){var C=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,v=0,q=Object.prototype.toString,B=false,u=true;[0,0].sort(function(){u=false;return 0});var o=function(J,E,M,N){M=M||[];E=E||document;var P=E;if(E.nodeType!==1&&E.nodeType!==9){return[]}if(!J||typeof J!=="string"){return M}var K=[],G,R,U,F,I=true,H=o.isXML(E),O=J,Q,T,S,L;do{C.exec("");G=C.exec(O);if(G){O=G[3];K.push(G[1]);if(G[2]){F=G[3];break}}}while(G);if(K.length>1&&x.exec(J)){if(K.length===2&&r.relative[K[0]]){R=t(K[0]+K[1],E)}else{R=r.relative[K[0]]?[E]:o(K.shift(),E);while(K.length){J=K.shift();if(r.relative[J]){J+=K.shift()}R=t(J,R)}}}else{if(!N&&K.length>1&&E.nodeType===9&&!H&&r.match.ID.test(K[0])&&!r.match.ID.test(K[K.length-1])){Q=o.find(K.shift(),E,H);E=Q.expr?o.filter(Q.expr,Q.set)[0]:Q.set[0]}if(E){Q=N?{expr:K.pop(),set:n(N)}:o.find(K.pop(),K.length===1&&(K[0]==="~"||K[0]==="+")&&E.parentNode?E.parentNode:E,H);R=Q.expr?o.filter(Q.expr,Q.set):Q.set;if(K.length>0){U=n(R)}else{I=false}while(K.length){T=K.pop();S=T;if(!r.relative[T]){T=""}else{S=K.pop()}if(S==null){S=E}r.relative[T](U,S,H)}}else{U=K=[]}}if(!U){U=R}if(!U){o.error(T||J)}if(q.call(U)==="[object Array]"){if(!I){M.push.apply(M,U)}else{if(E&&E.nodeType===1){for(L=0;U[L]!=null;L++){if(U[L]&&(U[L]===true||U[L].nodeType===1&&o.contains(E,U[L]))){M.push(R[L])}}}else{for(L=0;U[L]!=null;L++){if(U[L]&&U[L].nodeType===1){M.push(R[L])}}}}}else{n(U,M)}if(F){o(F,P,M,N);o.uniqueSort(M)}return M};o.uniqueSort=function(F){if(p){B=u;F.sort(p);if(B){for(var E=1;E<F.length;E++){if(F[E]===F[E-1]){F.splice(E--,1)}}}}return F};o.matches=function(E,F){return o(E,null,null,F)};o.find=function(L,E,M){var K;if(!L){return[]}for(var H=0,G=r.order.length;H<G;H++){var J=r.order[H],I;if((I=r.leftMatch[J].exec(L))){var F=I[1];I.splice(1,1);if(F.substr(F.length-1)!=="\\"){I[1]=(I[1]||"").replace(/\\/g,"");K=r.find[J](I,E,M);if(K!=null){L=L.replace(r.match[J],"");break}}}}if(!K){K=E.getElementsByTagName("*")}return{set:K,expr:L}};o.filter=function(P,O,S,I){var G=P,U=[],M=O,K,E,L=O&&O[0]&&o.isXML(O[0]);while(P&&O.length){for(var N in r.filter){if((K=r.leftMatch[N].exec(P))!=null&&K[2]){var F=r.filter[N],T,R,H=K[1];E=false;K.splice(1,1);if(H.substr(H.length-1)==="\\"){continue}if(M===U){U=[]}if(r.preFilter[N]){K=r.preFilter[N](K,M,S,U,I,L);if(!K){E=T=true}else{if(K===true){continue}}}if(K){for(var J=0;(R=M[J])!=null;J++){if(R){T=F(R,K,J,M);var Q=I^!!T;if(S&&T!=null){if(Q){E=true}else{M[J]=false}}else{if(Q){U.push(R);E=true}}}}}if(T!==undefined){if(!S){M=U}P=P.replace(r.match[N],"");if(!E){return[]}break}}}if(P===G){if(E==null){o.error(P)}else{break}}G=P}return M};o.error=function(E){throw"Syntax error, unrecognized expression: "+E};var r={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(E){return E.getAttribute("href")}},relative:{"+":function(K,F){var H=typeof F==="string",J=H&&!/\W/.test(F),L=H&&!J;if(J){F=F.toLowerCase()}for(var G=0,E=K.length,I;G<E...:"��������΢���ʺŵ�¼",CAPSLOCK:"���̴�д�����Ѵ򿪣���ע��",USERNAME:"������΢���ʺ�",PASSWORD:"����������",VDUNCODE:"������΢����ʾ�Ķ�̬����",CHECKPIN:"��������֤��",CLOSETIP:"��Ȩ��δ��ɣ�ȷ�����ڹرմ��ڣ�"};var a="#666666";var f="#9A9A9A";var i=function(D){var C,A,x,w,r,y,K,H=false,v=false,o=false;var G;var N;var F=[];var E=e.E("action"),I=e.E("display").value;var O=E.value,z=m("input[name=appkey62]")[0].value||"";var B=function(){if(!D){throw"node is not defined"}};var n=function(){C=e.kit.dom.parseDOM(e.core.dom.builder(D).list);w=C.vdunBox;r=C.validateBox;if(I=="mobile"){F=["btnP","btnG"]}else{var P=C.submit.className;cssArr=P.split(" ");F=[P,cssArr[0]+"Ing "+cssArr[1]]}};var s=function(){A=e.core.evt.delegatedEvent(D);A.add("submit","click",q.submit);A.add("logout","click",q.logout);A.add("changeAccount","click",q.changeAccount);d(C.cancel,"click",q.cancel);if(C.userid){d(C.form,"submit",q.submit);d(C.userid,"focus",q.toggleTipText);d(C.userid,"blur",q.toggleTipText);d(C.userid,"click",q.hideTip);d(C.passwd,"click",q.hideTip);d(C.passwd,"keypress",q.capslock);d(C.changeCode,"click",q.pinCode);d(window,"resize",function(){K&&K.reSetPos()})}if(O=="scope"){d(window,"beforeunload",u)}if(I=="mobile"){d(document,"click",q.hideAccountTip)}G=e.common.tabControl({onEnterKey:q.submit})};var L=function(){var Q=[];var P=m("input[type=checkbox]",D);e.core.arr.foreach(P,function(R,S){R.checked&&Q.push(R.value)});return Q.join(",")};var q={submit:function(){var R=e.E("officalFlag");e.E("withOfficalFlag").value=(R&&R.checked)?"1":"0";if(C.userid){e.core.evt.preventDefault();if(o){return}var T=C.userid.value;var S=C.passwd.value;var P="",Q="";if(T==""||T==j.LOGINMSG){x.setContent(j.USERNAME).show();q.getAllTabIndexObjects();return}if(S==""){x.setContent(j.PASSWORD).show();q.getAllTabIndexObjects();return}if(H){P=b(C.vdun.value);if(P==""||P.length<6){x.setContent(j.VDUNCODE).show();q.getAllTabIndexObjects();return}}if(v){Q=b(C.vcode.value);if(Q==""){x.setContent(j.CHECKPIN).show();q.getAllTabIndexObjects();return}}q.hideTip();C.submit.className=F[1];e.common.login.doLogin({userId:T,passWd:S,vsnval:P,door:Q,appkey:z,callback:q.callback})}else{switch(O){case"login":case"authorize":C.submit.className=F[1];break;case"scope":e.E("scope").value=L();h(window,"beforeunload",u);break}C.form.submit()}},logout:function(){e.core.evt.stopEvent();e.common.login.doLogout()},changeAccount:function(){e.core.evt.stopEvent();C.account&&(C.account.className="logins logins_open")},hideAccountTip:function(){C.account&&(C.account.className="logins")},toggleTipText:function(Q){var P=C.userid;if(P.value==j.LOGINMSG&&Q.type=="focus"){P.value="";P.style.color=a}else{if(P.value==""&&Q.type=="blur"){P.value=j.LOGINMSG;P.style.color=f}if(P.value!=j.LOGINMSG&&P.value!=N){N=P.value;o=true;e.common.login.preLogin(P.value,function(R){o=false;switch(R.showpin){case 1:q.pinCode();q.hideVdun();break;case 2:q.hidePinCode();q.showVdun();break;case 0:default:q.hideVdun();q.hidePinCode()}})}}},hideTip:function(){x&&x.hide();q.getAllTabIndexObjects()},pinCode:function(Q){var P=sinaSSOController.getPinCodeUrl();C.pincode.src=P;C.vcode.value="";r.style.display="";v=true;Q&&Q.reason&&x.setContent(Q.reason).show();q.getAllTabIndexObjects()},hidePinCode:function(){v=false;r.style.display="none"},showVdun:function(P){w.style.display="";H=true;C.vdun.value="";P&&P.reason&&x.setContent(P.reason).show();q.getAllTabIndexObjects()},hideVdun:function(){H=false;w.style.display="none"},capslock:function(R){R=e.core.evt.fixEvent(R);var Q=R.keyCode||R.which;var P=R.shiftKey||(Q==16)||false;if(((Q>=65&&Q<=90)&&!P)||((Q>=97&&Q<=122)&&P)){x.setContent(j.CAPSLOCK).show();q.getAllTabIndexObjects()}else{q.hideTip()}},cancel:function(){switch(O){case"login":E.value="refused";C.userid&&(C.userid.value="");break;case"authorize":E.value="refused";break;case"scope":e.E("scope").value="";break}C.form.submit()},callback:function(P){if(!P.result){switch(P.errno){case"5024":case"5025":q.showVdun(P);break;case"4049":case"2070":q.pinCode(P);break;default:if(v){q.pinCode(P)}x.setContent(P.reason).show();q.getAllTabIndexObjects();break}C.submit.className=F[0];return}if(P.ticket!=""){e.E("ticket").value=P.ticket;if(I!="mobile"){C.passwd.value=""}}C.form.submit()},getAllTabIndexObjects:function(){G.rebuild()}};var p=function(){var P="default,js,popup";if(I==0||P.indexOf(I)!=-1){e.common.resize()}};var t=function(){var P=m(".icon_help")[0],Q=m(".WB_tips_mini_w")[0];Q&&(Q.style.display="none");d(P,"mouseover",function(){Q&&(Q.style.display="")});d(P,"mouseout",function(){Q&&(Q.style.display="none")})};var u=function(){var P=e.core.evt.getEvent();P.returnValue=j.CLOSETIP};var M=function(){if(C.userid){x=e.ui.simpleTip(C);C.userid.value=j.LOGINMSG;C.userid.style.color=f;if(typeof $CONFIG!="undefined"&&$CONFIG.$errorMsg){x.setContent($CONFIG.$errorMsg).show();q.getAllTabIndexObjects()}}if(O=="scope"){t()}e.common.privacy(C,I);p();if(C.userid){K=e.common.placeholder(C.passwd,{force:true,text:"121212"})}};var J=function(){B();n();s();M()};J()};i(e.E("outer"))})();

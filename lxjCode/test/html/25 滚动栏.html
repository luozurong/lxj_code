<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>滚动条与固定栏</title>
    <link rel="stylesheet" href="../iscroll/iscroll.css">
    <script src="js/jquery-2.1.4.js"></script>
    <script src="../iscroll/iscroll.js"></script>
</head>
<style>
    *{
        margin:0;
        padding:0;
    }
    html,body{
        height:100%;
        padding:0;
        margin:0;
    }
    body{
        overflow-y:hidden;
        box-sizing: border-box;
        padding-bottom:50px;
        font-size: 12px;
        background: #ffe;
    }
    .all{
        height:100%;
        width:100%;
        box-sizing: border-box;
        overflow: auto;
        line-height: 30px;
    }
    .all::-webkit-scrollbar{
        width:1px;
        background: #e1c000;
    }
    .all::-webkit-scrollbar-thumb{
        background: #f00000;
    }
    .fixed{
        position: fixed;
        bottom:0;
        left:0;
        z-index: 100;
        width: 100%;
        height:50px;
        line-height: 50px;
        color:#fff;
        background: green;
        text-align: center;
    }
</style>
<body>
打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻打击大框架束带结发是会计的福克斯接口是第几发送京东方觉得发髻
        <div id="wrapper" class="all">
            <div id="scroller">
                <div id="pullDown" style="display: none;">
                    <span class="pullDownIcon"></span><span class="pullDownLabel"></span>
                </div>
                <ul class="content" id="thelist">
                </ul>
                <div id="pullUp" class="pullUp" style="display: none;">
                    <!--<div id="nomore" style="display: none;">
                        亲，已经没有更多商品了
                    </div>-->
                    <div>
                        45
                    </div>
                    <span class="pullUpIcon"></span><span class="pullUpLabel">向上拉更多惊喜</span>
                </div>
                <div id="nomore">
                    亲，已经没有更多商品了
                </div>
            </div>
        </div>

    <div class="fixed">固定栏</div>
    <script>
        var moveC=false;
        function loaded() {
            pullUpEl = document.getElementById('pullUp');
            pullUpOffset = pullUpEl.offsetHeight;
            myScroll = new iScroll('wrapper', {
                useTransition: true,
                bounce: true,
                onRefresh: function() {
                    if(pullUpEl.className.match('loading')) {
                        pullUpEl.className = '';
                        pullUpEl.querySelector('.pullUpLabel').innerHTML = '向上拉';
                    }
                },
                onScrollMove: function() {
                    moveC=true;
                    if((this.y < this.maxScrollY) && (this.pointY < 1)) {
                        this.scrollTo(0, this.maxScrollY, 400);
                        return;
                    } else if(this.y > 0 && (this.pointY > window.innerHeight - 1)) {
                        this.scrollTo(0, 0, 400);
                        return;
                    } else if(this.y < (this.maxScrollY - 5) && !pullUpEl.className.match('flip')) {
                        pullUpEl.className = 'flip';
                        pullUpEl.querySelector('.pullUpLabel').innerHTML = '放开手刷新';
                        this.maxScrollY = this.maxScrollY;
                    } else if(this.y > (this.maxScrollY + 5) && pullUpEl.className.match('flip')) {
                        pullUpEl.className = '';
                        pullUpEl.querySelector('.pullUpLabel').innerHTML = '向上拉更多惊喜';
                        //	this.maxScrollY = pullUpOffset;
                    }

                },
                onScrollEnd: function() {
                    if (moveC) {
                        sessionStorage.setItem("Ycoordinate",this.y);
                    }
                    myScroll.refresh();
                    if(pullUpEl.className.match('flip')) {
                        pullUpEl.className = 'loading';
                        pullUpEl.querySelector('.pullUpLabel').innerHTML = '加载中...';
                        pullUpAction(); // Execute custom function (ajax call?)
                    }
                }
            });
            document.getElementById('wrapper').style.left = '22%';
        }
    </script>
</body>
</html>